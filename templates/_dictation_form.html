{% macro dictation_form(show_result, request_path, user_input_disabled, show_next_button) %}
<form method="POST" id="dictation-form" action="{{ request_path }}">
    <label for="user_input">Type what you hear:</label>
    <div class="input-and-button">
        <input type="text" name="user_input" id="user_input" style="flex:1;" {% if user_input_disabled %}disabled{% endif %} autocomplete="off">
        {% if show_result %}
            <input type="hidden" name="next" value="1">
            <button type="submit" class="dictation-btn">Next â–¶</button>
        {% else %}
            <button type="submit" class="dictation-btn" id="submit-answer-btn">Submit</button>
        {% endif %}
    </div>
</form>
{% endmacro %}

{% macro dictation_result_panel(result, result_color, correct_sentence, correction, pinyin, translation, accuracy) %}
<div class="result" style="--result-color: {{ result_color }}; padding-left: 1em;">
    <h3 class="result-title">{{ result }}</h3>
    <p><strong>Correct sentence:</strong> {{ correct_sentence|clickable_hanzi }}</p>
    <p><strong>Correction:</strong> {{ correction|safe }}</p>
    <p><strong>Pinyin:</strong> {{ pinyin }}</p>
    <p><strong>Translation:</strong> {{ translation }}</p>
    <p><strong>Accuracy:</strong> {{ accuracy }}%</p>
</div>
{% endmacro %} 