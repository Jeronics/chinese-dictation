{% extends "base.html" %}

{% block title %}Story Session Complete{% endblock %}

{% block content %}
    <div class="summary-container">
        <div class="summary-header">
            <h1>ğŸ‰ Story Session Complete!</h1>
            <h2>{{ story.title }}</h2>
            <h3 class="story-title-chinese">{{ story.title_chinese }}</h3>
        </div>

        <div class="summary-stats">
            <div class="stat-card">
                <div class="stat-number">{{ average_accuracy }}%</div>
                <div class="stat-label">Avg. Accuracy</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ score }}</div>
                <div class="stat-label">Good Parts (>=70%)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ total }}</div>
                <div class="stat-label">Total Parts</div>
            </div>
        </div>

        <div class="summary-message">
            {% if average_accuracy == 100 %}
                <p class="perfect-score">ğŸ¯ Perfect! You got all parts correct!</p>
            {% elif average_accuracy >= 80 %}
                <p class="great-score">ğŸŒŸ Excellent work! You're doing great!</p>
            {% elif average_accuracy >= 60 %}
                <p class="good-score">ğŸ‘ Good job! Keep practicing!</p>
            {% else %}
                <p class="keep-practicing">ğŸ“š Keep practicing! You'll improve with time.</p>
            {% endif %}
        </div>

        <div class="summary-actions">
            <a href="/story/{{ story_id }}/session" class="retry-button">ğŸ”„ Try Again</a>
            <a href="/" class="stories-button">ğŸ“š Back to Menu</a>
            <a href="/" class="menu-button">ğŸ  Back to Menu</a>
        </div>
    </div>
{% endblock %} 